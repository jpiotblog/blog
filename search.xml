<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>長期間稼働するシステムでの UWF 有効化について</title>
      <link href="/blog/2020/02/20/UWF-longtermup/"/>
      <url>/blog/2020/02/20/UWF-longtermup/</url>
      
        <content type="html"><![CDATA[<p>長期間稼働するシステムで UWF を有効化する場合の、一般的な留意事項をご紹介します。</p><a id="more"></a><br><hr><p>UWF を有効化している環境において、オーバーレイ領域が不足するとシステムが動作しなくなるため、定期的にシステムを再起動してオーバーレイ領域をフラッシュする必要があります。  </p><p>オーバーレイ領域の消費傾向はその環境のご利用方法に依存します。例えば、新しいファイルの作成や更新が頻繁に行われるシステムでは、オーバーレイが比較的早く消費します。逆に、新しいファイルの作成は行われず、限定された動作のみを行うシステムでは消費は少ないことが想定されます。オーバーレイ領域の消費傾向が把握できていないシステムにおきましては、長期間連続稼働 (例: 24 時間 365 日) を要件するシステムでの UWF 利用はお勧めしません。  </p><p>システムを再起動せず稼働可能な期間を判断するためには、UWF を有効化して模擬運用を実施し、オーバーレイの消費傾向を把握することをお勧めします。運用が周期的に行われる場合、周期の最大期間 (例: 一週間、または一ヶ月など) を目途に模擬運用を継続ください。消費傾向からシステム再起動タイミングを逆算したり、どのような操作が最もオーバーレイを消費しているかを確認して、利用方法の変更やオーバーレイ領域の拡大をご検討ください。  </p><p>検討方法例:  </p><p>(1) 一週間または一ヶ月などの運用周期となる期間、運用試験を実施し、オーバーレイの消費傾向を把握します。</p><ul><li>消費量 / 残容量の確認:   <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">uwfmgr overlay get-consumption  </span><br><span class="line">uwfmgr overlay get-availablespace</span><br></pre></td></tr></table></figure></li></ul><p>(2) 試験結果を基に、システム再起動間隔でオーバーレイが消費しないよう設定値を決定します。  </p><p>例:<br>オーバーレイ消費傾向: 約 200 MB / 日<br>システム再起動間隔　: 一週間毎  </p><ul><li>7 日 x 200 MB = 1400 MB / 週、ただし操作によっては消費量が増えることを想定して約 2 倍超の 3 GB = 3072 MB と設定   <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uwfmgr overlay set-size 3072</span><br></pre></td></tr></table></figure></li><li>一週間通常使用しても警告を出力しないように 1.5 GB = 1536 MB と設定 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uwfmgr overlay set-warningthreshold 1536</span><br></pre></td></tr></table></figure></li><li>警告表示後 2 日間余裕があるように 2.5 GB = 2560 MB と設定 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uwfmgr overlay set-criticalthreshold 2560</span><br></pre></td></tr></table></figure></li><li>RAM 上に 3072 MB を確保するのが難しい場合は Disk オーバーレイを設定<br> ※ OS 再起動後、set-size で指定したサイズの隠しファイル C:\uwfswap.sys が作成されます。 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uwfmgr overlay set-type disk</span><br></pre></td></tr></table></figure></li><li>設定を反映させるため OS を再起動 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uwfmgr overlay set-type disk</span><br></pre></td></tr></table></figure><br></li></ul><p>関連する公開情報をご紹介します。  </p><ul><li><a href="https://docs.microsoft.com/ja-jp/windows-hardware/customize/enterprise/uwfoverlay" target="_blank" rel="noopener">統合書き込みフィルター (UWF) オーバーレイの位置とサイズ</a></li><li><a href="https://social.technet.microsoft.com/Forums/ja-JP/959a7f26-3b2a-4336-9882-696bc21efbe1/windows-10?forum=Wcsupportja" target="_blank" rel="noopener">Windows 10 の統合書き込みフィルター機能 (UWF) で、フィルターの除外設定を行ってもオーバーレイのメモリを消費してしまう</a></li><li><a href="https://social.technet.microsoft.com/Forums/ja-JP/4276f895-6266-4d4a-92dd-507ed694aab3/uwf-26377211771239512375123901236312425-6?forum=Wcsupportja" target="_blank" rel="noopener">UWF 有効にしてから 6 ヶ月経過すると一部の通知アイコンが表示されない現象について</a>  </li></ul><hr>]]></content>
      
      
      <categories>
          
          <category> Unified Write Filter </category>
          
      </categories>
      
      
        <tags>
            
            <tag> オーバーレイ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>UWF の除外を推奨しないパスについて</title>
      <link href="/blog/2020/02/19/UWF-exclusions/"/>
      <url>/blog/2020/02/19/UWF-exclusions/</url>
      
        <content type="html"><![CDATA[<p>UWF の除外設定を実施するにあたり、留意いただきたい内容をお纏めいたします。</p><a id="more"></a><br><hr><p>システムの起動の初期段階でアクセスするフォルダ (C:\Windows 配下など) は、他のデータと一貫性を持っています。一部のフォルダーを除外し、関連するその他の情報と一貫性が崩れた場合、システムがハンドルできない問題が発生し「SYSTEM THREAD EXCEPTION NOT HANDLED」エラーが発生する場合があります。これは、アクセスできる情報としてアクセスしようとしたら失敗 (Access violation の発生) することでシステムの起動が進められなくなるためです。<br>一般的に、設定を推奨しない除外パスは、公開情報 <a href="https://docs.microsoft.com/ja-jp/windows-hardware/customize/enterprise/uwfexclusions" target="_blank" rel="noopener">書き込みフィルターの除外</a> を参照ください。なお、現在公開情報への追加リクエスト中の内容となりますが、以下も併せてご確認ください。  </p><ul><li><p>C:\Windows\WinSXS フォルダーを除外すると OS 起動時に BSOD が発生する  </p><p> Winodws 10 Enterprise 2019 LTSC では、C:\Windows\WinSXS フォルダーを除外するとシステム起動時に 「SYSTEM THREAD EXCEPTION NOT HANDLED」 で BSOD が発生するという報告がございます。C:\Windows\WinSXS フォルダー配下にはシステム起動初期にアクセスする情報が含まれておりますため、除外をお勧めいたしません。  </p></li><li><p>Windows Defender のレジストリを除外すると OS 起動時にハングアップする  </p><p> レジストリ キー <code>HKLM\System\CurrentControlSet\Services\WdFilter</code> や <code>HKLM\SYSTEM\ControlSet001\Control\DeviceClasses\{53f5630d-b6bf-11d0-94f2-00a0c91efb8b}</code> を除外設定にしていると、OS 起動時にハングアップして起動できない場合があります。レースコンディションによるものであり、スペックの低い端末で発生する傾向にあります。OS 側での修正は困難であるため、Wdfilter の除外解除等をご検討ください。  </p></li></ul><p>なお、UWF を有効にした環境で OS 再起動後も情報を維持したい製品がある場合、必要な除外設定につきましては対象製品サポートへお問い合わせいただく必要がございます。除外設定の追加によって何らかの問題が発生した場合にも、除外対象パスを使用するプロセス側にて調査が必要となりますため、対象の製品サポートにて事例の有無や対処方法をお問い合わせください。</p><hr>]]></content>
      
      
      <categories>
          
          <category> Unified Write Filter </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 除外設定 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>UWF を有効化した環境でメモリ ダンプを取得する方法</title>
      <link href="/blog/2020/02/12/UWF-dump-setting/"/>
      <url>/blog/2020/02/12/UWF-dump-setting/</url>
      
        <content type="html"><![CDATA[<p>UWF を有効化した環境で、メモリ ダンプを取得する方法についてご紹介します。</p><a id="more"></a><br><hr><h2 id="はじめに"><a href="#はじめに" class="headerlink" title="はじめに"></a>はじめに</h2><ul><li><p>概要  </p><p> 強制メモリ ダンプを取得することで、現象発生時のメモリの状態を Memory.dmp ファイルとして保存し、そこから現象発生時のオペレーティング システムのメモリの状態や、行われていた処理などの詳細を確認することができます。  </p></li><li><p>影響  </p><p> メモリ ダンプ取得のためのシャットダウン操作は、正常にシステムを停止させる方法ではないことを予めご留意ください。システムが正常に動作しない問題の調査方法として、他に方法が無い場合にご案内させていただいております。運用環境で、且つ回避策がある場合には、極力実施をお勧めいたしません。  </p></li><li><p>再起動の必要性  </p><p> 事前準備時、メモリダンプ採取時に再起動が必要です。  </p></li><li><p>採取ファイル  </p><p>本手順では “D:\Dumps\Memory.dmp” として進めさせていただきます。  </p></li></ul><hr><h2 id="事前準備"><a href="#事前準備" class="headerlink" title="事前準備"></a>事前準備</h2><ul><li><p>システム ドライブ以外に、メモリ ダンプを保存するボリュームを追加し、いずれかのドライブとしてマウントします。<br>※ この手順では D: ドライブとします。  </p></li><li><p>事前に UWF フィルターとボリュームの保護を実行します。この過程で PageFile の設定が一旦初期化されます。  </p><p> 実行例:<br> ※ この手順ではシステム ドライブを C: ドライブとします。 </p> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">uwfmgr.exe filter enable  </span><br><span class="line">uwfmgr.exe volume protect c:  </span><br><span class="line">shutdown -r -t 0</span><br></pre></td></tr></table></figure></li></ul><hr><h2 id="Dump-出力設定手順"><a href="#Dump-出力設定手順" class="headerlink" title="Dump 出力設定手順"></a>Dump 出力設定手順</h2><ul><li><p>(1) UWF フィルターを無効化する。  </p><p> 実行例:  </p> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uwfmgr.exe filter disable</span><br></pre></td></tr></table></figure></li><li><p>(2) PageFile の大きさを 物理メモリ + 300 Mbyte 以上の大きさに設定する。  </p><p> 実行例:<br> a) [エクスプローラ] - [コンピュータ] を右クリックし [プロパティ(R)] をクリックします。<br> b) [システムの詳細設定] をクリックします。<br> c) [詳細設定] タブの [パフォーマンス] にある [設定(S)] をクリックします。<br> d) [詳細設定] タブの [仮想メモリ] の項目にある [変更(C)] ボタンをクリックします。<br> e) この画面にて、[すべてのドライブのページング ファイルのサイズを自動的に管理する(A)] オプションを外します。<br> f) 手順 1) で作成したシステムドライブ以外のドライブ (ここでは D:) をクリックします。<br> g) [カスタムサイズ] にチェックを付け、[初期サイズ]、[最大サイズ] の両方に物理メモリ + 300 Mbyte 以上の値を入力します。 (例えば 4096MB メモリの場合、4396MB)<br> h) その後 [設定] ボタンをクリックし設定を反映させ [OK] ボタンをクリックします。<br> i) “変更結果はコンピューターを再起動しなければ有効になりません。” というポップアップが表示されますので、[OK] ボタンをクリックします。<br> j) “パフォーマンス オプション” のウィンドウも [OK] ボタンにて閉じます。  </p><p> ※ 補足<br> この設定値は、次のレジストリに反映されます。なお、直接レジストリ値を編集することでも、ページング ファイル サイズを設定することができます。  </p><p> キー: <code>HKEY_LOCAL_MACHINE\System\CurrentControlSet\Control\SessionManager\MemoryManagement</code><br> 名前: <code>PagingFiles</code><br> 種類: <code>REG_MULTI_SZ</code><br> データ: &lt;ページ ファイル保存先&gt; &lt;初期サイズ (MB)&gt; &lt;最大サイズ (MB)&gt; (設定例: <code>d:\pagefile.sys 4396 4396</code>)</p></li><li><p>(3) 完全メモリ ダンプ (Full Dump) が生成されるよう設定する。  </p><p> a) [エクスプローラ] - [コンピュータ] を右クリックし、[プロパティ] をクリックします。<br> b) 左ペインにある [システムの詳細設定] をクリックします。<br> c) “システムのプロパティ” の [詳細設定] タブの [起動と回復] 枠内にある [設定] ボタンをクリックします。<br> d) “起動と回復” の [デバッグ情報の書き込み] 枠内にあるプルダウン メニューから [完全メモリ ダンプ] を選択し、[OK] ボタンを 2 回クリックします。  </p></li><li><p>(4) [ダンプ ファイル] のパスを変更する。  </p><p> ※ 注意<br> GUI から [完全メモリ ダンプ] を選択する事と併せて、以下のレジストリ エディタで、次のレジストリの値が設定されている事をご確認ください。  </p><p> キー: <code>HKEY_LOCAL_MACHINE\System\CurrentControlSet\Control\CrashControl</code><br> 名前: <code>CrashDumpEnabled</code><br> 種類: <code>REG_DWORD</code><br> データ: <code>1</code>  </p><p> メモリ ダンプの出力先は、次のレジストリ値で確認できます。  </p><p> キー: <code>HKEY_LOCAL_MACHINE\System\CurrentControlSet\Control\CrashControl</code><br> 名前: <code>DumpFile</code><br> 種類: <code>REG_EXPAND_SZ</code><br> データ(既定値): <code>D:\Dumps\MEMORY.DMP</code>  </p></li><li><p>(5) DedicatedDumpFile.sys を設定する。  </p><p> レジストリ エディタで、次のレジストリの値を設定してください。  </p><p> キー: <code>HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\CrashControl</code><br> 名前: <code>DedicatedDumpFile</code><br> 種類: <code>REG_SZ</code><br> データ: <code>D:\dedicateddumpfile.sys</code>  </p><p> キー: <code>HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\CrashControl</code><br> 名前: <code>DumpFileSize</code><br> 種類: <code>REG_DWORD</code><br> データ: &lt;10 進数でメモリサイズ + 300 MB を設定ください&gt; (設定例: <code>4396</code>)  </p></li><li><p>(6: オプション) AlwaysKeepMemoryDump を設定する。  </p><p> Client OS におけるメモリ ダンプでは WorkGroup 環境の場合、ダンプ ファイル格納ボリュームの空き容量が25 GB 未満の場合、ダンプ ファイルが削除される動作となります (Domain 環境の場合、25 GB の制限には合致いたしません)。<br> そのため、対象の端末が Workgroup 環境の場合には、以下のレジストリ値を設定いただき、ダンプ ファイルが上記制限に合致しないよう設定いただく事をご検討いただければと存じます。  </p><p> キー: <code>HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\CrashControl</code><br> 名前: <code>AlwaysKeepMemoryDump</code><br> 種類: <code>REG_DWOD</code><br> データ : <code>1</code>  </p><p> 公開情報:<br> <a href="https://blogs.msdn.microsoft.com/wer/2009/02/09/kernel-dump-storage-and-clean-up-behavior-in-windows-7/" target="_blank" rel="noopener">Kernel dump storage and clean up behavior in Windows 7</a>  </p></li><li><p>(7: オプション) キーボードから STOP エラーを発生できるように設定する。  </p><p> 事象発生時にメモリ ダンプの生成を行えるよう、トリガーの設定を行います。レジストリ エディタで、次のレジストリの値を設定してください。  </p><p> &lt;PS/2 キーボードの場合&gt;<br> キー: <code>HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\i8042prt\Parameters</code><br> 名前: <code>CrashOnCtrlScroll</code><br> 種類: <code>REG_DWORD</code><br> データ: <code>1</code>  </p><p> &lt;USB キーボードの場合&gt;<br> キー: <code>HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\kbdhid\Parameters</code><br> 名前: <code>CrashOnCtrlScroll</code><br> 種類: <code>REG_DWORD</code><br> データ: <code>1</code>  </p></li><li><p>(8: オプション) NMI スイッチを使用できるように設定する。  </p><p> Windows の機能ではなく、ご使用のハードウェアにメモリ ダンプ取得のための NMI (Non-Maskable Interrupt) スイッチが備わっている場合、以下にご案内するキーボードでクラッシュさせる方法よりも割り込みレベルが高いため、ご使用いただくことをお勧めします。<br> ご使用のハードウェアに当該機能が備わっているか、また、使用方法につきましては、ハードウェアの取扱説明書、あるいはハードウェアご提供元様にご確認ください。  </p><p> また、Windows 側の設定として、レジストリ エディタで、次のレジストリの値を設定ください。  </p><p> キー: <code>HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\CrashControl</code><br> 名前: <code>NMICrashDump</code><br> 種類: <code>REG_DWORD</code><br> データ: <code>1</code>  </p></li><li><p>(9) UWF を有効化し、OS を再起動する。</p><p> 実行例:  </p> <figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">uwfmgr.exe filter enable  </span><br><span class="line">shutdown -r -t <span class="number">0</span></span><br></pre></td></tr></table></figure></li></ul><hr><h2 id="Dump-の出力手順"><a href="#Dump-の出力手順" class="headerlink" title="Dump の出力手順"></a>Dump の出力手順</h2><p>調査対象の事象が発生した際に、NMI もしくはキーボード操作によってメモリ ダンプを出力させます。  </p><ul><li>取得対象: <code>D:\Dumps\Memory.dmp</code>  </li></ul><hr><h2 id="※-参考情報"><a href="#※-参考情報" class="headerlink" title="※ 参考情報"></a>※ 参考情報</h2><ul><li><p><a href="http://support.microsoft.com/kb/969028" target="_blank" rel="noopener">Windows Server 2008 および Windows Server 2008 R2 でカーネルまたは完全メモリ ダンプ ファイルを生成する方法</a>  </p></li><li><p><a href="http://support.microsoft.com/kb/254649/en-us" target="_blank" rel="noopener">Overview of memory dump file options for Windows 2000, Windows XP, Windows Server 2003, Windows Vista, Windows Server 2008, Windows 7 and Windows Server 2008 R2</a>  </p></li><li><p><a href="http://support.microsoft.com/kb/254649/ja" target="_blank" rel="noopener">メモリ ダンプ ファイルのオプションは、Windows 2000、Windows XP、Windows Server 2003、Windows Vista、Windows Server 2008、Windows 7 と Windows サーバー 2008 R2 の概要 (機械翻訳)</a>  </p></li><li><p><a href="http://blogs.technet.com/b/askcore/archive/2012/09/12/windows-8-and-windows-server-2012-automatic-memory-dump.aspx" target="_blank" rel="noopener">Windows 8 and Windows Server 2012: Automatic Memory Dump (英文のみ)</a></p></li><li><p><a href="http://support.microsoft.com/kb/2750146" target="_blank" rel="noopener">NMI_HARDWARE_FAILURE error when an NMI is triggered on Windows 8 and Windows Server 2012 (英文のみ)</a>  </p></li><li><p><a href="http://support.microsoft.com/kb/244139" target="_blank" rel="noopener">Windows の機能により、キーボード操作で Memory.dmp ファイルを作成できる</a>  </p></li><li><p><a href="http://support.microsoft.com/kb/130536" target="_blank" rel="noopener">クラッシュ後 Windows でメモリ ダンプ ファイルが保存されない</a></p></li></ul>]]></content>
      
      
      <categories>
          
          <category> Unified Write Filter </category>
          
      </categories>
      
      
        <tags>
            
            <tag> メモリ ダンプの設定手順 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>UWF 関連トラブル時の情報採取手順について</title>
      <link href="/blog/2020/01/26/CollectInfo_UWF/"/>
      <url>/blog/2020/01/26/CollectInfo_UWF/</url>
      
        <content type="html"><![CDATA[<p>トラブル発生時の情報採取手順を記載します。</p><a id="more"></a><br><hr><h2 id="対象"><a href="#対象" class="headerlink" title="対象"></a>対象</h2><p>事象発生マシン (OS: Windows 10 IoT Core または Windows 10 IoT Enterprise)  </p><h2 id="事前準備"><a href="#事前準備" class="headerlink" title="事前準備"></a>事前準備</h2><p><a href="https://jpiotblog.github.io/files/CollectInfo_UWF.txt" title="CollectInfo_UWF.txt">こちら</a> から CollectInfo_UWF.txt ファイルをダウンロードし、拡張子を .txt から .bat に変更、実施対象の任意の場所に格納します。  </p><p>&lt;実施対象に以下が存在する状態&gt;<br>・ [任意の場所]\CollectInfo_UWF.bat ファイル</p><h2 id="影響"><a href="#影響" class="headerlink" title="影響"></a>影響</h2><p>ログを採取することで負荷が上がる可能性は考えられますが、基本的に OS リソースや処理への影響はありません。  </p><h2 id="実行手順"><a href="#実行手順" class="headerlink" title="実行手順"></a>実行手順</h2><p>(1) 事象発生マシンに管理者アカウントでログオンします。<br>(2) CollectInfo_UWF.bat ファイルを右クリックし、[管理者として実行] を選択します。<br>(3) “実行したい番号を入力ください” メッセージに 1 を入力、リターン キーを押下し、表示に従いメニューに戻ります。<br>(4) “実行したい番号を入力ください” メッセージに q を入力、リターン キーを押下してツールを終了します。<br>(5) デスクトップ上 &lt;YYYYMMDD 形式の年月日&gt;_&lt;ホスト名&gt;_info フォルダーを圧縮し、お問い合わせいただく際にご提供ください。  </p><hr>]]></content>
      
      
      <categories>
          
          <category> Unified Write Filter </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 情報採取手順 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>FAQ (Unified Write Filter)</title>
      <link href="/blog/2020/01/16/UWF-FAQ/"/>
      <url>/blog/2020/01/16/UWF-FAQ/</url>
      
        <content type="html"><![CDATA[<p>UWF 機能に関してよくあるご質問とその回答を纏めています。</p><a id="more"></a><br><hr><h2 id="参考となる公開情報について"><a href="#参考となる公開情報について" class="headerlink" title="参考となる公開情報について"></a>参考となる公開情報について</h2><ul><li><a href="https://docs.microsoft.com/ja-jp/windows-hardware/customize/enterprise/unified-write-filter" target="_blank" rel="noopener">統合書き込みフィルター (UWF) 機能</a>  <blockquote><p>機能の概要、要件、制限事項、各機能の紹介など  </p></blockquote></li><li><a href="https://docs.microsoft.com/ja-jp/windows-hardware/customize/enterprise/uwf-turnonuwf" target="_blank" rel="noopener">Unified Write Filter (UWF) 機能を使用します。</a>  <blockquote><p>UWF の有効化方法  </p></blockquote></li><li><a href="https://docs.microsoft.com/ja-jp/windows-hardware/customize/enterprise/uwfoverlay" target="_blank" rel="noopener">統合書き込みフィルター (UWF) オーバーレイの位置とサイズ</a>  <blockquote><p>オーバーレイに関する情報  </p></blockquote></li><li><a href="https://docs.microsoft.com/ja-jp/windows-hardware/customize/enterprise/uwfexclusions" target="_blank" rel="noopener">書き込みフィルターの除外</a>  <blockquote><p>UWF 機能の除外設定について  </p></blockquote></li><li><a href="https://docs.microsoft.com/ja-jp/windows-hardware/customize/enterprise/service-uwf-protected-devices" target="_blank" rel="noopener">UWF で保護されているデバイスのサービス</a>  <blockquote><p>UWF を有効化している環境で Windows 更新プロブラムやマルウェア対策ソフトのシグネチャを更新する方法について  </p></blockquote></li><li><a href="https://docs.microsoft.com/ja-jp/windows-hardware/customize/enterprise/uwftroubleshooting" target="_blank" rel="noopener">Unified Write Filter (UWF) のトラブルシューティング</a>  <blockquote><p>トラブルシューティングに関する情報<br>UWF に関する情報採取手順は、<a href="https://jpiotblog.github.io/files/CollectInfo_UWF.md">こちら</a> を参照ください。</p></blockquote></li></ul><hr><h2 id="UWF-適用環境で-Windows-Update-時に-CPU-が高くなる時がある"><a href="#UWF-適用環境で-Windows-Update-時に-CPU-が高くなる時がある" class="headerlink" title="UWF 適用環境で Windows Update 時に CPU が高くなる時がある"></a>UWF 適用環境で Windows Update 時に CPU が高くなる時がある</h2><p>WmiPrvSE.exe プロセスが uwfwmi.dll にて UWF のオーバーレイ ファイルを取得する処理に CPU を消費する傾向があります。こちらは仕様に基づく動作となります。</p><hr><h2 id="“UWF-Servicing-Mode”-実行時に、WSUS-の設定が参照されない"><a href="#“UWF-Servicing-Mode”-実行時に、WSUS-の設定が参照されない" class="headerlink" title="“UWF Servicing Mode” 実行時に、WSUS の設定が参照されない"></a>“UWF Servicing Mode” 実行時に、WSUS の設定が参照されない</h2><p>UWF の不具合として、2019 年 9 月 (Windows 10 1903 のみ 2019 年 10 月) の更新プログラムで修正しております。  </p><hr><h2 id="“uwfmgr-exe-filter-enable”-コマンドを実行すると保護対象ボリュームに配置された-Pagefile-sys-が削除される"><a href="#“uwfmgr-exe-filter-enable”-コマンドを実行すると保護対象ボリュームに配置された-Pagefile-sys-が削除される" class="headerlink" title="“uwfmgr.exe filter enable” コマンドを実行すると保護対象ボリュームに配置された Pagefile.sys が削除される"></a>“uwfmgr.exe filter enable” コマンドを実行すると保護対象ボリュームに配置された Pagefile.sys が削除される</h2><p>初回の <code>uwfmgr.exe filter enable</code> コマンドの実行時に Pagefile に関するレジストリ値を操作する処理が実施される為です。回避策としては、<code>uwfmgr.exe filter enable</code> コマンドを実行した後、再起動の直前にもう一度 Pagefile.sys の設定を保護対象ボリュームに対して実施する必要があります。  </p><hr><br>※ 現在追加更新中です。]]></content>
      
      
      <categories>
          
          <category> Unified Write Filter </category>
          
      </categories>
      
      
        <tags>
            
            <tag> FAQ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>過去ブログについて</title>
      <link href="/blog/2020/01/12/past-blog/"/>
      <url>/blog/2020/01/12/past-blog/</url>
      
        <content type="html"><![CDATA[<p>過去のブログ情報を紹介いたします。<br>定期的な更新は行われていないため、除外設定等の情報は現在の OS では適用されない場合がございます。<br>恐れ入りますが、予めご留意いただけますようお願い申し上げます。</p><a id="more"></a><br><hr><h2 id="UWF"><a href="#UWF" class="headerlink" title="UWF"></a>UWF</h2><ul><li><a href="https://docs.microsoft.com/ja-jp/archive/blogs/askcorejp/unified-write-filter-info" target="_blank" rel="noopener">統合書き込みフィルター (Unified Write Filter (UWF)) について</a></li><li><a href="https://social.technet.microsoft.com/Forums/ja-JP/4f4f5c1c-1c83-49c2-940a-b7dc51cd1379/windows-10-12391-uwf-unified-write-filter-1239212464125231254012503?forum=Wcsupportja" target="_blank" rel="noopener">Windows 10 で UWF (Unified Write Filter) とグループ ポリシーによるデバイスのインストール制限を併用する場合の動作について</a></li><li><a href="https://social.technet.microsoft.com/Forums/ja-JP/7cfc6009-1a55-4ee3-b892-345fe2ee2377/unified-write-filter-uwf?forum=Wcsupportja" target="_blank" rel="noopener">Unified Write Filter (UWF) 環境での運用を考慮した設定について</a></li><li><a href="https://social.technet.microsoft.com/Forums/ja-JP/68832722-c695-4779-a1c4-7b537db89a05/uwf-289612117721270124671251012531124891236422833259431237712427?forum=Wcsupportja" target="_blank" rel="noopener">UWF 無効化コマンドが失敗する</a></li><li><a href="https://social.technet.microsoft.com/Forums/ja-JP/4276f895-6266-4d4a-92dd-507ed694aab3/uwf-26377211771239512375123901236312425-6?forum=Wcsupportja" target="_blank" rel="noopener">UWF 有効にしてから 6 ヶ月経過すると一部の通知アイコンが表示されない現象について</a></li><li><a href="https://social.technet.microsoft.com/Forums/ja-JP/0cae72ac-dcf8-4d46-a944-f39bdb92c1c0/3211321512263601236536796124151250112451125231247912540-unified?forum=Wcsupportja" target="_blank" rel="noopener">統合書き込みフィルター (Unified Write Filter (UWF)) について</a></li><li><a href="https://social.technet.microsoft.com/Forums/ja-JP/01e63d85-cacc-4286-a4b7-d397ccfa143f/uwfmgrexe?forum=Wcsupportja" target="_blank" rel="noopener">UWFMGR.EXE コマンド実行時の文字数制限について</a></li><li><a href="https://social.technet.microsoft.com/Forums/ja-JP/959a7f26-3b2a-4336-9882-696bc21efbe1/windows-10?forum=Wcsupportja" target="_blank" rel="noopener">Windows 10 の統合書き込みフィルター機能 (UWF) で、フィルターの除外設定を行ってもオーバーレイのメモリを消費してしまう</a></li></ul><hr>]]></content>
      
      
      <categories>
          
          <category> IoT 製品全般 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 過去ブログ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>jpiotblog について</title>
      <link href="/blog/2020/01/01/about-jpiotblog/"/>
      <url>/blog/2020/01/01/about-jpiotblog/</url>
      
        <content type="html"><![CDATA[<p>日本マイクロソフトの IoT 製品 (Device Lockdown 機能含む) に関するサポート情報のブログです。</p><h3 id="公開日"><a href="#公開日" class="headerlink" title="公開日"></a>公開日</h3><p>2020 年 1 月 1 日より公開いたしました。</p><h3 id="活動について"><a href="#活動について" class="headerlink" title="活動について"></a>活動について</h3><p>製品のサポート メンバーによって運用されております。仕様に関する情報やトラブル シューティングの手順、実装におけるワンポイント アドバイスを公開いたします。</p><h3 id="留意事項"><a href="#留意事項" class="headerlink" title="留意事項"></a>留意事項</h3><p>サイトのコンテンツや情報において、可能な限り正確な情報を掲載し、更新するよう努めております。しかしながら、状況の変化や情報が古くなることにより、必ずしもお客様環境に適用できない情報となる場合がございます。恐れ入りますが、予めご留意くださいますようお願い申し上げます。</p>]]></content>
      
      
      <categories>
          
          <category> IoT 製品全般 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> はじめに </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
